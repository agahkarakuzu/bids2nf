// These parameters are default to a nextflow script that is 
// assumed to be located in the root of the project.
default_bids_dir = "$projectDir/test/data/custom/ds-mtsat"
default_bids2nf_config = "$projectDir/bids2nf.yaml"
default_libbids_sh = "$projectDir/libBIDS.sh/libBIDS.sh"
default_executor = 'local'
default_shell = [ '/opt/homebrew/bin/bash', '-ue']

params {
  bids_dir = default_bids_dir
  bids_dir_parent = new File(bids_dir).getParent()
  libbids_sh = default_libbids_sh
  bids2nf_config = default_bids2nf_config
}

process {
  executor = default_executor
  shell = default_shell
}


// Test profile, users can ignore this profile
profiles {
  test {
    process {
      executor = 'local'
      shell = ['/bin/bash', '-ue']
    }
    params {
      // Test-specific parameters
      max_memory = '2 GB'
      max_cpus = 2
      bids_dir = "$projectDir/../test/data/custom/ds-mtsat"
      libbids_sh = "$projectDir/../libBIDS.sh/libBIDS.sh"
      bids2nf_config = "$projectDir/../bids2nf.yaml"
    }
  }
}