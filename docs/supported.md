# Supported BIDS suffixes

This page documents the BIDS suffixes currently supported by bids2nf.

## Plain Sets

Plain sets define simple collections of files that do not require special grouping logic.

::::{card}
:header: <span class="custom-heading-plain"><h4>dwi</h4></span>
:footer: **Additional extensions:** None


Diffusion weighted imaging (DWI) with gradient directions (bvec, b-vectors) and b-values (bval)

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access bval file:
  bids_channel['dwi']['bval']
  // → ds-dwi/sub-01/dwi/sub-01_dwi.bval

  // Access bvec file:
  bids_channel['dwi']['bvec']
  // → ds-dwi/sub-01/dwi/sub-01_dwi.bvec

  // Access json file:
  bids_channel['dwi']['json']
  // → ds-dwi/sub-01/dwi/sub-01_dwi.json

  // Access nii file:
  bids_channel['dwi']['nii']
  // → ds-dwi/sub-01/dwi/sub-01_dwi.nii

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/ds-dwi/sub-01_NA_NA_unified.json>`
::::

## Named Sets

Named sets define specific collections of files with predefined names and properties.

::::{card}
:header: <span class="custom-heading"><h4>MTS</h4></span>
:footer: **Required keys:** `T1w`, `MTw`, `PDw`

**Magnetization transfer saturation**

This method is to calculate a semi-quantitative magnetization transfer
saturation index map.
The MTS method involves three sets of anatomical images that differ in terms
of application of a magnetization transfer RF pulse (MTon or MToff) and flip
angle ([Helms et al. 2008](https://doi.org/10.1002/mrm.21732)).


| Key | Description | Entity-based mapping |
|------|-------------|------------|
| T1w | T1-weighted image assuming flip-02 is the larger flip angle | flip: flip-02, mtransfer: mt-off |
| MTw | Magnetization transfer weighted image of the PD pair. | flip: flip-01, mtransfer: mt-on |
| PDw | Proton density weighted image assuming flip-01 is the lower flip angle | flip: flip-01, mtransfer: mt-off |

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access PDw files:
  bids_channel['MTS']['PDw']['nii']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-01_mt-off_MTS.nii.gz
  bids_channel['MTS']['PDw']['json']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-01_mt-off_MTS.json

  // Access MTw files:
  bids_channel['MTS']['MTw']['nii']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-01_mt-on_MTS.nii.gz
  bids_channel['MTS']['MTw']['json']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-01_mt-on_MTS.json

  // Access T1w files:
  bids_channel['MTS']['T1w']['nii']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-02_mt-off_MTS.nii.gz
  bids_channel['MTS']['T1w']['json']
  // → ds-mtsat/sub-phantom/ses-rth750rev/anat/sub-phantom_ses-rth750rev_run-01_flip-02_mt-off_MTS.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/ds-mtsat/sub-phantom_ses-rth750rev_run-01_unified.json>`
::::

::::{card}
:header: <span class="custom-heading"><h4>TB1TFL</h4></span>
:footer: **Required keys:** `anat`, `famp`


The result of a Siemens `tfl_b1_map` product sequence.
This sequence produces two images.
The first image appears like an anatomical image and the second output is a
scaled flip angle map.


| Key | Description | Entity-based mapping |
|------|-------------|------------|
| anat | Anatomical-like image generated by the tfl_b1_map product sequence | acquisition: acq-anat |
| famp | scaled flip angle map | acquisition: acq-famp |

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access anat files:
  bids_channel['TB1TFL']['anat']['nii']
  // → qmri_tb1tfl/sub-01/fmap/sub-01_acq-anat_TB1TFL.nii.gz
  bids_channel['TB1TFL']['anat']['json']
  // → qmri_tb1tfl/sub-01/fmap/sub-01_acq-anat_TB1TFL.json

  // Access famp files:
  bids_channel['TB1TFL']['famp']['nii']
  // → qmri_tb1tfl/sub-01/fmap/sub-01_acq-famp_TB1TFL.nii.gz
  bids_channel['TB1TFL']['famp']['json']
  // → qmri_tb1tfl/sub-01/fmap/sub-01_acq-famp_TB1TFL.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_tb1tfl/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading"><h4>TB1AFI</h4></span>
:footer: **Required keys:** `tr1`, `tr2`


This method ([Yarnykh 2007](https://doi.org/10.1002/mrm.21120))
calculates a B1<sup>+</sup> map from two images acquired at interleaved (two)
TRs with identical RF pulses using a steady-state sequence.


| Key | Description | Entity-based mapping |
|------|-------------|------------|
| tr1 | Image from the first interleaved TR of the AFI sequence | acquisition: acq-tr1 |
| tr2 | Image from the second interleaved TR of the AFI sequence | acquisition: acq-tr2 |

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access tr1 files:
  bids_channel['TB1AFI']['tr1']['nii']
  // → qmri_vfa/sub-01/fmap/sub-01_acq-tr1_TB1AFI.nii.gz
  bids_channel['TB1AFI']['tr1']['json']
  // → qmri_vfa/sub-01/fmap/sub-01_acq-tr1_TB1AFI.json

  // Access tr2 files:
  bids_channel['TB1AFI']['tr2']['nii']
  // → qmri_vfa/sub-01/fmap/sub-01_acq-tr2_TB1AFI.nii.gz
  bids_channel['TB1AFI']['tr2']['json']
  // → qmri_vfa/sub-01/fmap/sub-01_acq-tr2_TB1AFI.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_vfa/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading"><h4>RB1COR</h4></span>
:footer: **Required keys:** `bodyMTw`, `bodyT1w`, `bodyPDw`, `headMTw`, `headT1w`, `headPDw`


Low resolution images acquired by the body coil
(in the gantry of the scanner) and the head coil using identical acquisition
parameters to generate a combined sensitivity map as described in
[Papp et al. (2016)](https://doi.org/10.1002/mrm.26058).


| Key | Description | Entity-based mapping |
|------|-------------|------------|
| bodyMTw | MTw B1- field from the body coil | acquisition: acq-bodyMTw |
| bodyT1w | T1w B1- field from the body coil | acquisition: acq-bodyT1w |
| bodyPDw | PDw B1- field from the body coil | acquisition: acq-bodyPDw |
| headMTw | MTw B1- field from the head coil | acquisition: acq-headMTw |
| headT1w | T1w B1- field from the head coil | acquisition: acq-headT1w |
| headPDw | PDw B1- field from the head coil | acquisition: acq-headPDw |

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access bodyMTw files:
  bids_channel['RB1COR']['bodyMTw']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyMTw_RB1COR.nii
  bids_channel['RB1COR']['bodyMTw']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyMTw_RB1COR.json

  // Access bodyPDw files:
  bids_channel['RB1COR']['bodyPDw']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyPDw_RB1COR.nii
  bids_channel['RB1COR']['bodyPDw']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyPDw_RB1COR.json

  // Access bodyT1w files:
  bids_channel['RB1COR']['bodyT1w']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyT1w_RB1COR.nii
  bids_channel['RB1COR']['bodyT1w']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-bodyT1w_RB1COR.json

  // Access headMTw files:
  bids_channel['RB1COR']['headMTw']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headMTw_RB1COR.nii
  bids_channel['RB1COR']['headMTw']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headMTw_RB1COR.json

  // Access headPDw files:
  bids_channel['RB1COR']['headPDw']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headPDw_RB1COR.nii
  bids_channel['RB1COR']['headPDw']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headPDw_RB1COR.json

  // Access headT1w files:
  bids_channel['RB1COR']['headT1w']['nii']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headT1w_RB1COR.nii
  bids_channel['RB1COR']['headT1w']['json']
  // → qmri_mpm/sub-01/fmap/sub-01_acq-headT1w_RB1COR.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_mpm/sub-01_NA_NA_unified.json>`
::::

## Sequential Sets

Sequential sets define collections of files organized by BIDS entities.

::::{card}
:header: <span class="custom-heading-2"><h4>VFA</h4></span>
:footer: **Entity: `flip`**

**Variable flip angle**

The VFA method involves at least two spoiled gradient echo (SPGR) of
steady-state free precession (SSFP) images acquired at different flip angles.
Depending on the provided metadata fields and the sequence type,
data may be eligible for DESPOT1, DESPOT2 and their variants
([Deoni et al. 2005](https://doi.org/10.1002/mrm.20314)).



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['VFA']['nii'].size()  // → 2
  // Access first item
  bids_channel['VFA']['nii'][0]
  // → qmri_vfa/sub-01/anat/sub-01_flip-1_VFA.nii.gz
  bids_channel['VFA']['json'][0]
  // → qmri_vfa/sub-01/anat/sub-01_flip-1_VFA.json

  // Access second item
  bids_channel['VFA']['nii'][1]
  // → qmri_vfa/sub-01/anat/sub-01_flip-2_VFA.nii.gz
  bids_channel['VFA']['json'][1]
  // → qmri_vfa/sub-01/anat/sub-01_flip-2_VFA.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_vfa/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>IRT1</h4></span>
:footer: **Entity: `inversion`**

**Inversion recovery T1 mapping**

The IRT1 method involves multiple inversion recovery spin-echo images
acquired at different inversion times
([Barral et al. 2010](https://doi.org/10.1002/mrm.22497)).



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['IRT1']['nii'].size()  // → 4
  // Access first item
  bids_channel['IRT1']['nii'][0]
  // → qmri_irt1/sub-01/anat/sub-01_inv-01_IRT1.nii.gz
  bids_channel['IRT1']['json'][0]
  // → qmri_irt1/sub-01/anat/sub-01_inv-01_IRT1.json

  // Access second item
  bids_channel['IRT1']['nii'][1]
  // → qmri_irt1/sub-01/anat/sub-01_inv-02_IRT1.nii.gz
  bids_channel['IRT1']['json'][1]
  // → qmri_irt1/sub-01/anat/sub-01_inv-02_IRT1.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_irt1/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>TB1DAM</h4></span>
:footer: **Entity: `flip`**


The double-angle B1<sup>+</sup> method
([Insko and Bolinger 1993](https://doi.org/10.1006/jmra.1993.1133)) is based
on the calculation of the actual angles from signal ratios,
collected by two acquisitions at different nominal excitation flip angles.
Common sequence types for this application include spin echo and echo planar
imaging.



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['TB1DAM']['nii'].size()  // → 2
  // Access first item
  bids_channel['TB1DAM']['nii'][0]
  // → qmri_mtsat/sub-01/fmap/sub-01_flip-1_TB1DAM.nii.gz
  bids_channel['TB1DAM']['json'][0]
  // → qmri_mtsat/sub-01/fmap/sub-01_flip-1_TB1DAM.json

  // Access second item
  bids_channel['TB1DAM']['nii'][1]
  // → qmri_mtsat/sub-01/fmap/sub-01_flip-2_TB1DAM.nii.gz
  bids_channel['TB1DAM']['json'][1]
  // → qmri_mtsat/sub-01/fmap/sub-01_flip-2_TB1DAM.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_mtsat/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>MEGRE</h4></span>
:footer: **Entity: `echo`**

**Multi-echo Gradient Recalled Echo**

Anatomical gradient echo images acquired at different echo times.
Please note that this suffix is not intended for the logical grouping of
images acquired using an Echo Planar Imaging (EPI) readout.



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['MEGRE']['nii'].size()  // → 8
  // Access first item
  bids_channel['MEGRE']['nii'][0]
  // → qmri_megre/sub-01/anat/sub-01_echo-01_MEGRE.nii.gz
  bids_channel['MEGRE']['json'][0]
  // → qmri_megre/sub-01/anat/sub-01_echo-01_MEGRE.json

  // Access second item
  bids_channel['MEGRE']['nii'][1]
  // → qmri_megre/sub-01/anat/sub-01_echo-02_MEGRE.nii.gz
  bids_channel['MEGRE']['json'][1]
  // → qmri_megre/sub-01/anat/sub-01_echo-02_MEGRE.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_megre/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>MESE</h4></span>
:footer: **Entity: `echo`**

**Multi-echo Spin Echo**

The MESE method involves multiple spin echo images acquired at different echo
times and is primarily used for T2 mapping.
Please note that this suffix is not intended for the logical grouping of
images acquired using an Echo Planar Imaging (EPI) readout.



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['MESE']['nii'].size()  // → 32
  // Access first item
  bids_channel['MESE']['nii'][0]
  // → qmri_mese/sub-01/anat/sub-01_echo-01_MESE.nii.gz
  bids_channel['MESE']['json'][0]
  // → qmri_mese/sub-01/anat/sub-01_echo-01_MESE.json

  // Access second item
  bids_channel['MESE']['nii'][1]
  // → qmri_mese/sub-01/anat/sub-01_echo-02_MESE.nii.gz
  bids_channel['MESE']['json'][1]
  // → qmri_mese/sub-01/anat/sub-01_echo-02_MESE.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_mese/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>TB1SRGE</h4></span>
:footer: **Entities: `flip`, `inversion` (hierarchical order)**


Saturation-prepared with 2 rapid gradient echoes (SA2RAGE) uses a ratio of
two saturation recovery images with different time delays,
and a simulated look-up table to estimate B1+
([Eggenschwiler et al. 2011](https://doi.org/10.1002/mrm.23145)).
This sequence can also be used in conjunction with MP2RAGE T1 mapping to
iteratively improve B1+ and T1 map estimation
([Marques & Gruetter 2013](https://doi.org/10.1371/journal.pone.0069294)).



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['TB1SRGE']['nii'].size()  // → 2
  // Access first item
  bids_channel['TB1SRGE']['nii'][0]
  // → ['qmri_sa2rage/sub-01/fmap/sub-01_flip-1_inv-1_TB1SRGE.nii.gz']
  bids_channel['TB1SRGE']['json'][0]
  // → ['qmri_sa2rage/sub-01/fmap/sub-01_flip-1_inv-1_TB1SRGE.json']

  // Access second item
  bids_channel['TB1SRGE']['nii'][1]
  // → ['qmri_sa2rage/sub-01/fmap/sub-01_flip-2_inv-2_TB1SRGE.nii.gz']
  bids_channel['TB1SRGE']['json'][1]
  // → ['qmri_sa2rage/sub-01/fmap/sub-01_flip-2_inv-2_TB1SRGE.json']

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_sa2rage/sub-01_NA_NA_unified.json>`
::::

::::{card}
:header: <span class="custom-heading-2"><h4>TB1EPI</h4></span>
:footer: **Entities: `echo`, `flip` (hierarchical order)**


This B1<sup>+</sup> mapping method
([Jiru and Klose 2006](https://doi.org/10.1002/mrm.21083)) is based on two
EPI readouts to acquire spin echo (SE) and stimulated echo (STE) images at
multiple flip angles in one sequence, used in the calculation of deviations
from the nominal flip angle.



:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Get number of items in sequential set
  bids_channel['TB1EPI']['nii'].size()  // → 2
  // Access first item
  bids_channel['TB1EPI']['nii'][0]
  // → ['qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-01_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-02_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-03_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-04_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-05_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-06_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-07_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-08_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-09_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-10_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-11_TB1EPI.nii']
  bids_channel['TB1EPI']['json'][0]
  // → ['qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-01_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-02_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-03_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-04_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-05_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-06_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-07_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-08_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-09_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-10_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-1_flip-11_TB1EPI.json']

  // Access second item
  bids_channel['TB1EPI']['nii'][1]
  // → ['qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-01_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-02_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-03_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-04_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-05_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-06_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-07_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-08_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-09_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-10_TB1EPI.nii', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-11_TB1EPI.nii']
  bids_channel['TB1EPI']['json'][1]
  // → ['qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-01_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-02_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-03_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-04_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-05_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-06_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-07_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-08_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-09_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-10_TB1EPI.json', 'qmri_mpm/sub-01/fmap/sub-01_echo-2_flip-11_TB1EPI.json']

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_mpm/sub-01_NA_NA_unified.json>`
::::

## Mixed Sets

Mixed sets combine named groups with sequential organization within each group.

::::{card}
:header: <span class="custom-heading-3"><h4>MPM</h4></span>
:footer: **Named: `acquisition`, Sequential: `echo`**

**Multi-parametric Mapping**

The MPM approaches (a.k.a hMRI) involves the acquisition of highly-similar
anatomical images that differ in terms of application of a magnetization
transfer RF pulse (MTon or MToff), flip angle and (optionally) echo time and
magnitue/phase parts
([Weiskopf et al. 2013](https://doi.org/10.3389/fnins.2013.00095)).
See [here](https://owncloud.gwdg.de/index.php/s/iv2TOQwGy4FGDDZ) for
suggested MPM acquisition protocols.


| Named Group | Description | Entity-based mapping |
|-------------|-------------|------------|
| MTw | Magnetization transfer weighted images | acquisition: acq-MTw, flip: flip-1, mtransfer: mt-on |
| PDw | Proton density weighted images | acquisition: acq-PDw, flip: flip-1, mtransfer: mt-off |
| T1w | T1-weighted images | acquisition: acq-T1w, flip: flip-2, mtransfer: mt-off |

**Required groups:** None

:::{seealso} Example usage within a process
:class: dropdown
```groovy
  // Access MTw group:
  bids_channel['MPM']['MTw']['nii'].size()  // → 6
  bids_channel['MPM']['MTw']['nii'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-MTw_echo-1_flip-1_mt-on_MPM.nii
  bids_channel['MPM']['MTw']['json'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-MTw_echo-1_flip-1_mt-on_MPM.json

  // Access second echo in MTw:
  bids_channel['MPM']['MTw']['nii'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-MTw_echo-2_flip-1_mt-on_MPM.nii
  bids_channel['MPM']['MTw']['json'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-MTw_echo-2_flip-1_mt-on_MPM.json

  // Access PDw group:
  bids_channel['MPM']['PDw']['nii'].size()  // → 8
  bids_channel['MPM']['PDw']['nii'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-PDw_echo-1_flip-1_mt-off_MPM.nii
  bids_channel['MPM']['PDw']['json'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-PDw_echo-1_flip-1_mt-off_MPM.json

  // Access second echo in PDw:
  bids_channel['MPM']['PDw']['nii'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-PDw_echo-2_flip-1_mt-off_MPM.nii
  bids_channel['MPM']['PDw']['json'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-PDw_echo-2_flip-1_mt-off_MPM.json

  // Access T1w group:
  bids_channel['MPM']['T1w']['nii'].size()  // → 8
  bids_channel['MPM']['T1w']['nii'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-T1w_echo-1_flip-2_mt-off_MPM.nii
  bids_channel['MPM']['T1w']['json'][0]
  // → qmri_mpm/sub-01/anat/sub-01_acq-T1w_echo-1_flip-2_mt-off_MPM.json

  // Access second echo in T1w:
  bids_channel['MPM']['T1w']['nii'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-T1w_echo-2_flip-2_mt-off_MPM.nii
  bids_channel['MPM']['T1w']['json'][1]
  // → qmri_mpm/sub-01/anat/sub-01_acq-T1w_echo-2_flip-2_mt-off_MPM.json

```
:::
{button}`Example channel data structure <https://github.com/agahkarakuzu/bids2nf/blob/main/tests/expected_outputs/qmri_mpm/sub-01_NA_NA_unified.json>`
::::

---

*This documentation is automatically generated from `bids2nf.yaml`.*